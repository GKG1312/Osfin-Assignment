graph TD
    subgraph Input [Data Sources]
        D[Disputes.csv]
        T[Transactions.csv]
    end

    %% Standard Mode
    subgraph Mode1 [Standard: Rule-Based]
        direction TB
        RB_Class[Keyword Matcher<br/>(classifier.py)]
        RB_Res[Logic Resolver<br/>(resolver.py)]
        RB_Out[Static Dashboard]
        
        RB_Class --> RB_Res --> RB_Out
    end

    %% Advanced Mode
    subgraph Mode2 [Advanced: Hybrid ML & AI]
        direction TB
        ML_Class[ML Model<br/>TF-IDF + SGD]
        RAG[RAG Engine<br/>Vector Search]
        ML_Res[Logic Resolver<br/>(resolver.py)]
        ML_Out[Dashboard + AI Chat]
        
        ML_Class --> ML_Res --> ML_Out
        RAG -.-> ML_Out
    end

    %% Agentic Mode
    subgraph Mode3 [Agentic: LLM-Only]
        direction TB
        Agent[Unified Agentic Pipeline<br/>(One-Pass LLM)]
        LLM_Dec[Generative Reasoning<br/>(JSON Decision)]
        Agent_Out[Agent Dashboard<br/>Full Context Chat]
        
        Agent --> LLM_Dec --> Agent_Out
    end

    %% Connections
    D --> RB_Class
    T --> RB_Res
    
    D --> ML_Class
    D --> RAG
    T --> RAG
    
    D --> Agent
    T --> Agent
